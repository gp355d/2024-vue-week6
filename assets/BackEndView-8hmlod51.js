import{_ as c,r as d,o as p,c as u,a as s,m as l,b as h,j as m,d as r}from"./index-VFWDc2Vc.js";var b={VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_API_NAME:"leo535",BASE_URL:"/2024-vue-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:_}=b,g={data(){return{sidebarActive:!1,isSaleCollapse:!1,isPurchaseCollapse:!1,checkUserStatus:!1}},methods:{checkUser(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common.Authorization=t,this.axios.post(`${_}/api/user/check`).then(e=>{console.log(e),this.checkUserStatus=e.data.success,alert("驗證中..."),this.checkUserStatus?this.$router.push("/admin/products"):this.$router.push("/login")}).catch(e=>{console.log(e),alert(e.response.data.message),this.$router.push("/login")})},toggleSidebar(){this.sidebarActive=!this.sidebarActive;const t=document.getElementById("sidebar-overlay");this.sidebarActive?t.classList.remove("d-none"):t.classList.add("d-none")},closeSidebar(){this.sidebarActive=!1,document.getElementById("sidebar-overlay").classList.add("d-none")},toggleCollapse(t){t==="sale"?(this.isSaleCollapse=!this.isSaleCollapse,this.isPurchaseCollapse=!1):t==="purchase"&&(this.isPurchaseCollapse=!this.isPurchaseCollapse,this.isSaleCollapse=!1)}},mounted(){this.checkUser()}},v={key:0,class:"container-fluid"},f={class:"row"},w=s("h1",{class:"bi bi-bootstrap text-primary d-flex my-4 justify-content-center"},null,-1),x={class:"list-group rounded-0"},S=r('<a href="#" class="list-group-item list-group-item-action active border-0 d-flex align-items-center"><span class="bi bi-border-all"></span><span class="ms-2">Dashboard</span></a><a href="#" class="list-group-item list-group-item-action border-0 align-items-center"><span class="bi bi-box"></span><span class="ms-2">Products</span></a>',2),C=s("div",null,[s("span",{class:"bi bi-cart-dash"}),s("span",{class:"ms-2"},"Sales")],-1),k=s("span",{class:"bi bi-chevron-down small"},null,-1),y=[C,k],P=s("div",{class:"list-group"},[s("a",{href:"#",class:"list-group-item list-group-item-action border-0 ps-5"},"Customers"),s("a",{href:"#",class:"list-group-item list-group-item-action border-0 ps-5"},"Sale Orders")],-1),A=[P],E=s("div",null,[s("span",{class:"bi bi-cart-plus"}),s("span",{class:"ms-2"},"Purchase")],-1),U=s("span",{class:"bi bi-chevron-down small"},null,-1),V=[E,U],I=s("div",{class:"list-group"},[s("a",{href:"#",class:"list-group-item list-group-item-action border-0 pl-5"},"Sellers"),s("a",{href:"#",class:"list-group-item list-group-item-action border-0 pl-5"},"Purchase Orders")],-1),B=[I],L={class:"col-md-9 col-lg-10 ms-md-auto px-0"},N={class:"w-100 d-flex px-4 py-2 mb-4 shadow-sm"},O=s("span",{class:"bi bi-list text-primary h3"},null,-1),R=[O],j=r('<div class="dropdown ms-auto"><button class="btn py-0 d-flex align-items-center" id="logout-dropdown" data-bs-toggle="dropdown" aria-expanded="false"><span class="bi bi-person text-primary h4"></span><span class="bi bi-chevron-down ms-1 mb-2"></span></button><div class="dropdown-menu border-0 shadow-sm" aria-labelledby="logout-dropdown"><a class="dropdown-item" href="#">Logout</a><a class="dropdown-item" href="#">Settings</a></div></div>',1),D={class:"container"};function T(t,e,$,z,i,o){const n=d("router-view");return i.checkUserStatus?(p(),u("div",v,[s("div",f,[s("div",{class:l(["col-md-3 col-lg-2 px-0 position-fixed h-100 bg-white shadow-sm sidebar",{active:i.sidebarActive}]),ref:"sidebar"},[w,s("div",x,[S,s("button",{class:"list-group-item list-group-item-action border-0 d-flex justify-content-between align-items-center",onClick:e[0]||(e[0]=a=>o.toggleCollapse("sale"))},y),s("div",{class:l(["collapse",{show:i.isSaleCollapse}]),id:"sale-collapse","data-bs-parent":"#sidebar"},A,2),s("button",{class:"list-group-item list-group-item-action border-0 d-flex justify-content-between align-items-center",onClick:e[1]||(e[1]=a=>o.toggleCollapse("purchase"))},V),s("div",{class:l(["collapse",{show:i.isPurchaseCollapse}]),id:"purchase-collapse","data-bs-parent":"#sidebar"},B,2)])],2),s("div",{class:"w-100 vh-100 position-fixed overlay d-none",id:"sidebar-overlay",onClick:e[2]||(e[2]=(...a)=>o.closeSidebar&&o.closeSidebar(...a))}),s("div",L,[s("nav",N,[s("button",{class:"btn py-0 d-md-none",onClick:e[3]||(e[3]=(...a)=>o.toggleSidebar&&o.toggleSidebar(...a))},R),j]),s("main",null,[s("div",D,[h(n)])])])])])):m("",!0)}const q=c(g,[["render",T]]);export{q as default};
